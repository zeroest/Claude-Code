
# 메모리 관리 (`CLAUDE.md`)

## 메모리 유형 결정

Claude Code는 계층 구조로 구성된 4가지 메모리 위치를 제공하며, 각각 다른 목적으로 사용됩니다:

| 메모리 유형 | 위치 | 목적 | 사용 사례 예시 | 공유 대상 |
|------------|------|------|---------------|----------|
| 엔터프라이즈 정책 | • macOS: `/Library/Application Support/ClaudeCode/CLAUDE.md`<br>• Linux: `/etc/claude-code/CLAUDE.md`<br>• Windows: `C:\Program Files\ClaudeCode\CLAUDE.md` | IT/DevOps에서 관리하는 조직 전체 지침 | 회사 코딩 표준, 보안 정책, 규정 준수 요구사항 | 조직의 모든 사용자 |
| 프로젝트 메모리 | `./CLAUDE.md` 또는 `./.claude/CLAUDE.md` | 프로젝트를 위한 팀 공유 지침 | 프로젝트 아키텍처, 코딩 표준, 일반적인 워크플로우 | 소스 제어를 통한 팀 멤버 |
| 프로젝트 규칙 | `./.claude/rules/*.md` | 모듈식, 주제별 프로젝트 지침 | 언어별 가이드라인, 테스트 규칙, API 표준 | 소스 제어를 통한 팀 멤버 |
| 사용자 메모리 | `~/.claude/CLAUDE.md` | 모든 프로젝트에 대한 개인 선호도 | 코드 스타일 선호도, 개인 도구 단축키 | 본인만 (모든 프로젝트) |
| 프로젝트 메모리 (로컬) | `./CLAUDE.local.md` | 개인 프로젝트별 선호도 | 샌드박스 URL, 선호하는 테스트 데이터 | 본인만 (현재 프로젝트) |

모든 메모리 파일은 Claude Code 실행 시 자동으로 컨텍스트에 로드됩니다. 계층 구조에서 상위에 있는 파일이 우선순위를 가지며 먼저 로드되어 더 구체적인 메모리가 구축될 수 있는 기초를 제공합니다.

## CLAUDE.md 임포트

CLAUDE.md 파일은 @path/to/import 구문을 사용하여 추가 파일을 임포트할 수 있습니다. 다음 예시는 3개의 파일을 임포트합니다:

```
See @README for project overview and @package.json for available npm commands for this project.

# Additional Instructions
- git workflow @docs/git-instructions.md
```

상대 경로와 절대 경로 모두 허용됩니다. 특히 사용자의 홈 디렉토리에 있는 파일을 임포트하는 것은 팀 멤버가 저장소에 체크인되지 않는 개인 지침을 제공하는 편리한 방법입니다. 임포트는 여러 git 워크트리에서 더 잘 작동하는 CLAUDE.local.md의 대안입니다.

```
# Individual Preferences
- @~/.claude/my-project-instructions.md
```

임포트된 파일은 최대 5홉의 깊이로 추가 파일을 재귀적으로 임포트할 수 있습니다. /memory 명령어를 실행하여 로드된 메모리 파일을 확인할 수 있습니다.

`#` 단축키는 버전 2.0.70에서 공식적으로 제거

클로드에게 CLAUDE.md 편집을 직접 요청하도록 변경 

~~프롬프트 창에서 #을 이용하게 되면 빠르게 메모리 추가 가능~~

```
# 변수명, 함수명은 카멜케이스 규칙을 사용하세요.
```

```
Where should this memory be saved?

  1. Project memory          Checked in at ./CLAUDE.md
  2. Project memory (local)  Gitignored in ./CLAUDE.local.md
  3. User memory             Saved in ~/.cluade/CLAUDE.md
```

디렉토리별로 CLAUDE.md 파일을 다르게 설정하여 운영 가능 

## 메모리 모범 사례
- 구체적으로 작성합니다: “2칸 들여쓰기 사용”이 “코드를 적절히 포맷합니다”보다 낫습니다.
- 구조를 사용하여 구성합니다: 각 개별 메모리를 글머리 기호로 포맷하고 관련 메모리를 설명적인 마크다운 제목 아래에 그룹화합니다.
- 정기적으로 검토합니다: 프로젝트가 진화함에 따라 메모리를 업데이트하여 Claude가 항상 최신 정보와 컨텍스트를 사용하도록 합니다.

## 참고

- [[공식문서] 메모리 관리](https://docs.claude.com/ko/docs/claude-code/memory)
