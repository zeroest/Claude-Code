
# Permission

[Docs Permissions](https://code.claude.com/docs/ko/permissions)

## 명령어 및 기능 설명


### `/permissions`

Claude Code가 파일 시스템에 접근할 수 있는 권한을 관리하는 명령어입니다. 현재 설정된 권한을 확인하고, 특정 디렉토리에 대한 읽기/쓰기/실행 권한을 부여하거나 제한할 수 있습니다. 보안을 위해 작업 범위를 명시적으로 제어합니다.

### `/resume`

이전에 중단되었던 Claude Code 세션을 재개하는 명령어입니다. 예기치 않은 종료, 네트워크 문제, 또는 의도적인 일시 중지 후에 마지막 작업 지점부터 다시 시작할 수 있습니다. 이전 대화 컨텍스트와 작업 상태를 복원합니다.

### `/terminal-setup`

터미널 환경 설정을 구성하는 명령어입니다. Claude Code가 터미널 명령어를 실행하고 개발 환경과 상호작용하기 위한 초기 설정을 수행합니다. 셸 환경, 경로 설정, 필요한 도구들의 접근 권한 등을 설정할 수 있습니다.

### `claude --continue`

터미널에서 Claude Code를 실행할 때 이전 작업을 이어서 진행하는 플래그 옵션입니다. 마지막으로 실행했던 Claude Code 세션의 컨텍스트를 로드하여 중단된 지점부터 작업을 계속할 수 있습니다. `/resume`의 터미널 커맨드 버전입니다.


## `settings.json`의 `permissions` 설정

### 기본 구조

```json
{
  "permissions": {
    "allow": [...],   // 허용 목록
    "ask": [...],     // 확인 요청 목록
    "deny": [...]     // 거부 목록
  }
}
```

### `allow` - 허용 목록

**자동으로 실행/접근을 허용할 작업들**

| 규칙	| 설명	| 예시 |
|---|---|---|
| Bash	        | 모든 bash 명령 허용	| "Bash" |
| Bash(명령어)	| 특정 명령만 허용	    | "Bash(npm run lint)" |
| Bash(패턴:*)	| 패턴 매칭 명령 허용	| "Bash(npm run test:*)" |
| Read(경로)	| 파일 읽기 허용	    | "Read(~/.zshrc)" | 
| Write(경로)	| 파일 쓰기 허용	    | "Write(./dist/**)" |


### `deny` - 거부 목록

**실행/접근을 차단할 작업들 (최우선 적용)**

**보안 중요 사항**

- `allow`보다 **우선순위가 높음**
- 민감한 파일과 위험한 명령을 보호

**일반적인 거부 예시**

```json
"deny": [
  "Bash(curl:*)",           // 외부 네트워크 요청 차단
  "Bash(rm:*)",             // 파일 삭제 명령 차단
  "Read(./.env)",           // 환경변수 파일 보호
  "Read(./.env.*)",         // .env로 시작하는 모든 파일
  "Read(./secrets/**)",     // secrets 폴더 전체 보호
  "Write(./config/prod.*)"  // 프로덕션 설정 파일 보호
]
```

### 패턴 매칭

| 패턴	| 의미	    | 예시	        | 매칭되는 것 |
|---|---|---|---|
| *	    | 단일 레벨	| test:*	    | test:unit, test:e2e |
| **	| 다중 레벨	| secrets/**	| secrets/api/key.json |
| :*	| 명령 인수	| curl:*	    | curl https://... |

### 실전 예시

**개발 환경 설정**

```json
{
  "permissions": {
    "allow": [
      "Bash(npm run *)",      // npm 스크립트 모두 허용
      "Bash(git status)",     // git 상태 확인 허용
      "Read(./src/**)",       // src 폴더 읽기
      "Write(./src/**)"       // src 폴더 쓰기
    ],
    "deny": [
      "Bash(curl:*)",         // 외부 요청 차단
      "Bash(rm:*)",           // 삭제 명령 차단
      "Read(./.env*)",        // 환경 변수 보호
      "Read(./secrets/**)",   // 비밀 폴더 보호
      "Write(./package.json)" // package.json 보호
    ]
  }
}

```

**보안 강화 설정**

```json
{
  "permissions": {
    "allow": [
      "Bash(npm run test)",   // 테스트만 허용
      "Read(./README.md)"     // README만 읽기
    ],
    "ask": [
      "Bash(git push:*)",     // push는 확인 필요
      "Write(./src/**)"       // 쓰기는 확인 필요
    ],
    "deny": [
      "Bash",                 // 일반 bash 차단
      "Read(./.env*)",        // 환경변수 차단
      "WebFetch"              // 웹 접근 차단
    ]
  }
}
```

### 주의사항

1. **Bash 패턴은 접두사 매칭**: `curl:*`는 우회 가능하므로 완벽한 보안은 아님
2. **deny가 최우선**: allow에 있어도 deny에 있으면 차단됨
3. **민감 정보 보호 필수**: `.env`, `secrets/` 등은 항상 deny에 추가
4. **최소 권한 원칙**: 필요한 것만 allow에 추가


## `additionalDirectories` 설정


**현재 프로젝트 폴더 외에 Claude가 접근할 수 있는 추가 디렉토리 목록**

기본적으로 Claude는 실행한 폴더만 접근 가능하지만, 이 설정으로 다른 폴더 접근 권한을 부여합니다.

**문법**

```json
{
  "permissions": {
    "additionalDirectories": [
      "../docs/",              // 상대 경로
      "~/config/",             // 홈 디렉토리
      "/usr/local/templates/"  // 절대 경로
    ]
  }
}
```

